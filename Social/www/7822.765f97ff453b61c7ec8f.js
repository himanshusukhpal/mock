(self.webpackChunksocial=self.webpackChunksocial||[]).push([[7822],{7822:(e,t,i)=>{"use strict";i.r(t),i.d(t,{HostEventPageModule:()=>k});var n=i(5109),o=i(2249),r=i(4250),s=i(3340),l=i(1855),a=i(4001),c=i(4656),d=i(2304),u=i(3928),p=i(8289);const g=["slideWithNav"];function v(e,t){1&e&&(d.TgZ(0,"span",25),d.TgZ(1,"p",26),d._uU(2,"Event Name is required!"),d.qZA(),d.qZA())}function m(e,t){if(1&e&&(d.TgZ(0,"ion-select-option"),d._uU(1),d.qZA()),2&e){const e=t.$implicit;d.xp6(1),d.Oqu(e)}}function h(e,t){1&e&&(d.TgZ(0,"span",25),d.TgZ(1,"p",26),d._uU(2,"Event Type is required!"),d.qZA(),d.qZA())}function Z(e,t){1&e&&(d.TgZ(0,"span",25),d.TgZ(1,"p",26),d._uU(2,"Event Address is required!"),d.qZA(),d.qZA())}function f(e,t){1&e&&(d.TgZ(0,"span",25),d.TgZ(1,"p",26),d._uU(2,"Event Privacy is required!"),d.qZA(),d.qZA())}function q(e,t){1&e&&(d.TgZ(0,"span",25),d.TgZ(1,"p",26),d._uU(2,"Event Status is required!"),d.qZA(),d.qZA())}function T(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"ion-slide",27),d.NdJ("click",function(){const t=d.CHM(e).$implicit;return d.oxw().addPic(t)}),d._UZ(1,"img",28),d.qZA()}if(2&e){const e=t.$implicit;d.xp6(1),d.Q6J("src",e.link,d.LSH)}}const b=[{path:"",component:(()=>{class e{constructor(e,t,i,n){this.datePipe=e,this.appService=t,this.formBuilder=i,this.domSanitizer=n,this.slideOpts={initialSlide:1,slidesPerView:2,loop:!0,spaceBetween:10},this.eventTypeList=[],this.date=new Date,this.formSubmit=!1,this.params="",this.eventDetailsForm=this.formBuilder.group({eventLabel:["",[o.kI.required]],date:["",[o.kI.required]],eventType:["",[o.kI.required]],eventAddress:["",[o.kI.required]],eventPrivacy:["",[o.kI.required]],eventStatus:["",[o.kI.required]]}),this.myDate=new Date,this.eventPics=[],this.addPic=e=>(0,l.mG)(this,void 0,void 0,function*(){const t=yield a.V1.getPhoto({quality:90,allowEditing:!0,resultType:a.dk.DataUrl});var i=t.dataUrl;console.log(t.dataUrl),e.link=i,this.eventPics.push(i)}),this.back=()=>this.appService.nav.navigateBack("home"),this.onSwiper=e=>console.log(e),this.open=e=>{this.appService.presentModal(c.P,e)},this.eventTypeList=t.data.eventType,this.sliderTwo={isBeginningSlide:!0,isEndSlide:!1,slidesItems:[{id:324,link:"https://icon-library.com/images/add-photo-icon/add-photo-icon-29.jpg"},{id:321,link:"https://icon-library.com/images/add-photo-icon/add-photo-icon-29.jpg"},{id:435,link:"https://icon-library.com/images/add-photo-icon/add-photo-icon-29.jpg"},{id:524,link:"https://icon-library.com/images/add-photo-icon/add-photo-icon-29.jpg"},{id:235,link:"https://icon-library.com/images/add-photo-icon/add-photo-icon-29.jpg"}]}}ngOnInit(){this.test=this.datePipe.transform(this.myDate,"yyyy-MM-dd")}slideNext(e,t){t.slideNext(500).then(()=>{this.checkIfNavDisabled(e,t)})}slidePrev(e,t){t.slidePrev(500).then(()=>{this.checkIfNavDisabled(e,t)})}SlideDidChange(e,t){this.checkIfNavDisabled(e,t)}checkIfNavDisabled(e,t){this.checkisBeginning(e,t),this.checkisEnd(e,t)}checkisBeginning(e,t){t.isBeginning().then(t=>{e.isBeginningSlide=t})}checkisEnd(e,t){t.isEnd().then(t=>{e.isEndSlide=t})}get eventDetailsFormError(){return this.eventDetailsForm.controls}onSubmit(){return(0,l.mG)(this,void 0,void 0,function*(){this.formSubmit=!0,this.eventDetailsForm.valid&&(console.log(this.eventDetailsForm.get.eventPics.value,"eventDetails"),console.log(this.eventDetailsForm.get.date.value,"date"),this.eventDetailsForm.controls.date.setValue(new Date(this.eventDetailsForm.get.date.value)),this.eventDetails=this.eventDetailsForm.value,yield this.appService.store.getUser().then(e=>{this.token=e.token,this.eventDetails.HostId=e.id,this.eventDetails.HostName=e.fullname}),this.appService.calls.addNewEventCall(this.token,this.params,this.eventDetails).subscribe(e=>{this.eventId=e.name,console.log(e)}),console.log(this.eventDetails,"null"),this.appService.nav.navigateBack("home"))})}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(n.uU),d.Y36(u.z),d.Y36(o.qu),d.Y36(p.H7))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-host-event"]],viewQuery:function(e,t){if(1&e&&d.Gf(g,5),2&e){let e;d.iGM(e=d.CRH())&&(t.slideWithNav=e.first)}},decls:62,vars:9,consts:[["color","primary"],["slot","start"],[2,"position","absolute",3,"click"],["name","close","size","large"],[3,"formGroup"],["position","floating"],["type","text","formControlName","eventLabel","placeholder","Event Name","required",""],["class","form-error",4,"ngIf"],["formControlName","eventType"],[4,"ngFor","ngForOf"],["type","text","formControlName","eventAddress","placeholder","Event Address","required",""],["formControlName","eventPrivacy"],["value","Open"],["value","Closed"],["formControlName","eventStatus"],["value","Completed"],["value","Cancelled"],["color","danger"],["pager","true",3,"options","ionSlideDidChange"],["slideWithNav",""],[3,"click",4,"ngFor","ngForOf"],[1,"sign-btn-wrap"],["expand","block","shape","round ","fill","solid",1,"sign-btn",3,"click"],["name","calendar"],["shape","round","type","button","expand","block","fill","solid",1,"sign-btn",3,"click"],[1,"form-error"],[1,"form-error-text"],[3,"click"],[3,"src"]],template:function(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"ion-header"),d.TgZ(1,"ion-toolbar",0),d.TgZ(2,"ion-buttons",1),d.TgZ(3,"ion-button",2),d.NdJ("click",function(){return t.back()}),d._UZ(4,"ion-icon",3),d.qZA(),d.qZA(),d.TgZ(5,"ion-title"),d._uU(6,"Host Event"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(7,"ion-content"),d.TgZ(8,"ion-card"),d.TgZ(9,"ion-card-content"),d.TgZ(10,"form",4),d.TgZ(11,"ion-item"),d.TgZ(12,"ion-label",5),d._uU(13,"Event Name"),d.qZA(),d._UZ(14,"ion-input",6),d.YNc(15,v,3,0,"span",7),d.qZA(),d.TgZ(16,"ion-item"),d.TgZ(17,"ion-label",5),d._uU(18,"Event Type"),d.qZA(),d.TgZ(19,"ion-select",8),d.YNc(20,m,2,1,"ion-select-option",9),d.qZA(),d.YNc(21,h,3,0,"span",7),d.qZA(),d.TgZ(22,"ion-item"),d.TgZ(23,"ion-label",5),d._uU(24," Event Address"),d.qZA(),d._UZ(25,"ion-input",10),d.YNc(26,Z,3,0,"span",7),d.qZA(),d.TgZ(27,"ion-item"),d.TgZ(28,"ion-label",5),d._uU(29," Event Privacy"),d.qZA(),d.TgZ(30,"ion-select",11),d.TgZ(31,"ion-select-option",12),d._uU(32,"Open"),d.qZA(),d.TgZ(33,"ion-select-option",13),d._uU(34,"Closed"),d.qZA(),d.qZA(),d.YNc(35,f,3,0,"span",7),d.qZA(),d.TgZ(36,"ion-item"),d.TgZ(37,"ion-label",5),d._uU(38," Event Status"),d.qZA(),d.TgZ(39,"ion-select",14),d.TgZ(40,"ion-select-option",12),d._uU(41,"Open"),d.qZA(),d.TgZ(42,"ion-select-option",15),d._uU(43,"Completed"),d.qZA(),d.TgZ(44,"ion-select-option",16),d._uU(45,"Cancelled"),d.qZA(),d.qZA(),d.YNc(46,q,3,0,"span",7),d.qZA(),d.TgZ(47,"ion-item"),d.TgZ(48,"ion-label",5),d.TgZ(49,"h2",17),d._uU(50,"Add Pictures"),d.qZA(),d.qZA(),d._UZ(51,"ion-input"),d.qZA(),d.TgZ(52,"ion-slides",18,19),d.NdJ("ionSlideDidChange",function(){d.CHM(e);const i=d.MAs(53);return t.SlideDidChange(t.sliderTwo,i)}),d.YNc(54,T,2,1,"ion-slide",20),d.qZA(),d.TgZ(55,"div",21),d.TgZ(56,"ion-button",22),d.NdJ("click",function(e){return t.open(e)}),d._uU(57,"Select Date and Time "),d._UZ(58,"ion-icon",23),d.qZA(),d.qZA(),d.TgZ(59,"div",21),d.TgZ(60,"ion-button",24),d.NdJ("click",function(){return t.onSubmit()}),d._uU(61,"Confirm"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()}2&e&&(d.xp6(10),d.Q6J("formGroup",t.eventDetailsForm),d.xp6(5),d.Q6J("ngIf",t.formSubmit&&(null==t.eventDetailsFormError.eventLabel.errors?null:t.eventDetailsFormError.eventLabel.errors.required)),d.xp6(5),d.Q6J("ngForOf",t.eventTypeList),d.xp6(1),d.Q6J("ngIf",t.formSubmit&&(null==t.eventDetailsFormError.eventType.errors?null:t.eventDetailsFormError.eventType.errors.required)),d.xp6(5),d.Q6J("ngIf",t.formSubmit&&(null==t.eventDetailsFormError.eventAddress.errors?null:t.eventDetailsFormError.eventAddress.errors.required)),d.xp6(9),d.Q6J("ngIf",t.formSubmit&&(null==t.eventDetailsFormError.eventPrivacy.errors?null:t.eventDetailsFormError.eventPrivacy.errors.required)),d.xp6(11),d.Q6J("ngIf",t.formSubmit&&(null==t.eventDetailsFormError.eventStatus.errors?null:t.eventDetailsFormError.eventStatus.errors.required)),d.xp6(6),d.Q6J("options",t.slideOpts),d.xp6(2),d.Q6J("ngForOf",t.sliderTwo.slidesItems))},directives:[r.Gu,r.sr,r.Sm,r.YG,r.gu,r.wd,r.W2,r.PM,r.FN,o._Y,o.JL,o.sg,r.Ie,r.Q$,r.pK,r.j9,o.JJ,o.u,o.Q7,n.O5,r.t9,r.QI,n.sg,r.n0,r.Hr,r.A$],styles:[".sign-btn-wrap[_ngcontent-%COMP%]{text-align:center;padding-top:20px}.sign-btn-wrap[_ngcontent-%COMP%]   .sign-btn[_ngcontent-%COMP%]{--ion-primary-color:#215ab7;--background-activated:#e1eaf9;--background-focused:#e1eaf9;--background-hover:#647b9d;color:#f4f6fa;border-radius:25px;--background:#215ab7;background-color:#215ab7}ion-slides[_ngcontent-%COMP%]{height:50%}.center-button[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;display:flex;justify-content:center;align-items:center}"]}),e})()}];let A=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[s.Bz.forChild(b)],s.Bz]}),e})(),k=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({providers:[n.uU],imports:[[n.ez,o.u5,o.UX,r.Pc,A]]}),e})()}}]);