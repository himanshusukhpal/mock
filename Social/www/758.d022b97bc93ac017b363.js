(self.webpackChunksocial=self.webpackChunksocial||[]).push([[758],{758:(e,n,t)=>{"use strict";t.r(n),t.d(n,{EditProfilePageModule:()=>h});var i=t(5109),o=t(2249),a=t(4250),r=t(3340),s=t(1855),l=t(4001),c=t(2304),g=t(3928),d=t(8837);let p=(()=>{class e{constructor(e,n,t){this.pc=e,this.appService=n,this.storage=t,this.uploadProgress=0,this.editPic=()=>(0,s.mG)(this,void 0,void 0,function*(){var e=(yield l.V1.getPhoto({quality:90,allowEditing:!0,resultType:l.dk.DataUrl})).dataUrl;this.appService.data.profileImageUrl=e,this.uploadPic(e)}),this.appService.store.getUser().then(e=>{this.userId=e.id})}ngOnInit(){}removePic(){this.pc.dismiss("https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQPrcSIYcfdCK1XNhHWpQfuoW5eZyUhuLBMKB5FzAWYJKbGy_XvpR4aAnPlOzYd2ptiDFw&usqp=CAU")}uploadPic(e){this.storage.ref(this.userId).putString(e,"data_url",{contentType:"image/jpeg"}).then(e=>{console.log(e),this.storage.ref(this.userId).getDownloadURL().toPromise().then(e=>{console.log(e,"url"),this.res=e,this.pc.dismiss(this.res)})})}}return e.\u0275fac=function(n){return new(n||e)(c.Y36(a.Dh),c.Y36(g.z),c.Y36(d.Q1))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-popover2"]],decls:13,vars:0,consts:[["color","primary"],[1,"ion-no-margin","ion-no-padding"],[3,"click"],["name","camera"],["name","trash"]],template:function(e,n){1&e&&(c.TgZ(0,"ion-header"),c.TgZ(1,"ion-toolbar",0),c.TgZ(2,"ion-title"),c._uU(3," Profile Picture "),c.qZA(),c.qZA(),c.qZA(),c.TgZ(4,"ion-list",1),c.TgZ(5,"ion-item",2),c.NdJ("click",function(){return n.editPic()}),c._UZ(6,"ion-icon",3),c.TgZ(7,"ion-label"),c._uU(8,"Edit Profile Pic"),c.qZA(),c.qZA(),c.TgZ(9,"ion-item",2),c.NdJ("click",function(){return n.removePic()}),c._UZ(10,"ion-icon",4),c.TgZ(11,"ion-label"),c._uU(12,"Remove Profile Pic"),c.qZA(),c.qZA(),c.qZA())},directives:[a.Gu,a.sr,a.wd,a.q_,a.Ie,a.gu,a.Q$],styles:[""]}),e})();const u=[{path:"",component:(()=>{class e{constructor(e,n){this.appservice=e,this.pc=n,this.userDetails={}}ngOnInit(){console.log(this.profileImageUrl),this.callUser()}popover(e){return(0,s.mG)(this,void 0,void 0,function*(){const n=yield this.pc.create({component:p,event:e,animated:!0,showBackdrop:!0});return n.onDidDismiss().then(e=>{this.profileImageUrl=e.data,console.log(this.profileImageUrl,"pic")}),yield n.present()})}callUser(){return(0,s.mG)(this,void 0,void 0,function*(){yield this.appservice.store.getUser().then(e=>{this.userDetails=e,this.id=e.id,this.token=e.token,this.profileImageUrl=e.profileImageUrl}),console.log(this.userDetails,"before")})}back(){this.appservice.nav.navigateBack("profile")}editProfile(e){return(0,s.mG)(this,void 0,void 0,function*(){console.log(e.value),this.userDetails.fname=e.value.fname,this.userDetails.lname=e.value.lname,this.userDetails.address=e.value.address,this.userDetails.phone=e.value.phone,this.userDetails.username=e.value.username,this.userDetails.profileImageUrl=this.profileImageUrl,console.log(this.userDetails,"after"),this.appservice.store.setUser2(this.userDetails),this.appservice.calls.userCreateCall2(this.id,this.token,this.userDetails).subscribe(e=>{this.appservice.nav.navigateForward("profile")})})}}return e.\u0275fac=function(n){return new(n||e)(c.Y36(g.z),c.Y36(a.Dh))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-edit-profile"]],decls:60,vars:7,consts:[["color","primary"],["slot","start"],[2,"position","absolute",3,"click"],["name","arrow-back","size","large"],[1,"mainContainer"],["size-sm","6","offset-sm","3"],[1,"container"],[1,"overylay"],[3,"click"],[3,"src"],[3,"ngSubmit"],["f","ngForm"],["lines","full"],["type","text","placeholder","First Name","id","fname","ngModel","","name","fname",3,"value"],["fname","ngModel"],["name","person-circle-outline"],["type","text","placeholder","Last name","id","lname","ngModel","","name","lname",3,"value"],["lname","ngModel"],["name","person-outline"],["type","text","placeholder","Username","id","username","ngModel","","name","username",3,"value"],["username","ngModel"],["name","person"],["type","tel","placeholder","Phone No.","id","phone","ngModel","","name","phone",3,"value"],["phone","ngModel"],["name","call"],["type","text","placeholder","Address","id","address","ngModel","","name","address",3,"value"],["address","ngModel"],["name","home"],["type","email","id","email","ngModel","","name","email","placeholder","Registration email",3,"value"],["email","ngModel"],["name","mail"],[1,"social-btns"],["fill","clear",1,"facebookbtn","ion-no-padding"],["src","https://i.pinimg.com/736x/d5/18/ec/d518eceea19f4b1a2ee032ddc634dd7d.jpg"],["type","text","id","fb","ngModel","","name","fb","placeholder","Facebook URL here"],["fb","ngModel"],["fill","clear",1,"instabtn","ion-no-padding"],["src","https://upload.wikimedia.org/wikipedia/commons/thumb/a/a5/Instagram_icon.png/2048px-Instagram_icon.png"],["type","text","id","fb","ngModel","","name","fb","placeholder","Instagram URL here"],[1,"sign-btn-wrap"],["shape","round","type","submit","expand","block","fill","solid",1,"sign-btn"]],template:function(e,n){if(1&e){const e=c.EpF();c.TgZ(0,"ion-header"),c.TgZ(1,"ion-toolbar",0),c.TgZ(2,"ion-title"),c._uU(3,"Edit Profile"),c.qZA(),c.TgZ(4,"ion-buttons",1),c.TgZ(5,"ion-button",2),c.NdJ("click",function(){return n.back()}),c._UZ(6,"ion-icon",3),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(7,"ion-content"),c.TgZ(8,"div",4),c.TgZ(9,"ion-grid"),c.TgZ(10,"ion-row"),c.TgZ(11,"ion-col",5),c.TgZ(12,"div",6),c.TgZ(13,"div",7),c.TgZ(14,"ion-avatar",8),c.NdJ("click",function(e){return n.popover(e)}),c._UZ(15,"ion-img",9),c.qZA(),c.qZA(),c.qZA(),c.TgZ(16,"ion-card"),c.TgZ(17,"ion-card-content"),c.TgZ(18,"form",10,11),c.NdJ("ngSubmit",function(){c.CHM(e);const t=c.MAs(19);return n.editProfile(t)}),c.TgZ(20,"ion-item",12),c.TgZ(21,"ion-input",13,14),c._UZ(23,"ion-icon",15),c.qZA(),c.qZA(),c.TgZ(24,"ion-item",12),c.TgZ(25,"ion-input",16,17),c._UZ(27,"ion-icon",18),c.qZA(),c.qZA(),c.TgZ(28,"ion-item",12),c.TgZ(29,"ion-input",19,20),c._UZ(31,"ion-icon",21),c.qZA(),c.qZA(),c.TgZ(32,"ion-item",12),c.TgZ(33,"ion-input",22,23),c._UZ(35,"ion-icon",24),c.qZA(),c.qZA(),c.TgZ(36,"ion-item",12),c.TgZ(37,"ion-input",25,26),c._UZ(39,"ion-icon",27),c.qZA(),c.qZA(),c.TgZ(40,"ion-item",12),c.TgZ(41,"ion-input",28,29),c._UZ(43,"ion-icon",30),c.qZA(),c.qZA(),c.TgZ(44,"div",31),c.TgZ(45,"ion-item"),c.TgZ(46,"ion-button",32),c._UZ(47,"ion-img",33),c.qZA(),c._UZ(48,"ion-input",34,35),c.qZA(),c.TgZ(50,"ion-item"),c.TgZ(51,"ion-button",36),c._UZ(52,"ion-img",37),c.qZA(),c._UZ(53,"ion-input",38,35),c.qZA(),c.qZA(),c.TgZ(55,"ion-row"),c.TgZ(56,"ion-col"),c.TgZ(57,"div",39),c.TgZ(58,"ion-button",40),c._uU(59,"Save"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()}2&e&&(c.xp6(15),c.Q6J("src",n.profileImageUrl),c.xp6(6),c.s9C("value",n.userDetails.fname),c.xp6(4),c.s9C("value",n.userDetails.lname),c.xp6(4),c.s9C("value",n.userDetails.username),c.xp6(4),c.s9C("value",n.userDetails.phone),c.xp6(4),c.s9C("value",n.userDetails.address),c.xp6(4),c.s9C("value",n.userDetails.email))},directives:[a.Gu,a.sr,a.wd,a.Sm,a.YG,a.gu,a.W2,a.jY,a.Nd,a.wI,a.BJ,a.Xz,a.PM,a.FN,o._Y,o.JL,o.F,a.Ie,a.pK,a.j9,o.JJ,o.On],styles:["ion-content[_ngcontent-%COMP%]{--ion-background-color:#fff}ion-title[_ngcontent-%COMP%]{font-family:Trebuchet MS,Lucida Sans Unicode,Lucida Grande,Lucida Sans,Arial,sans-serif;font-style:normal;color:#fff}ion-avatar[_ngcontent-%COMP%]{height:100px;width:100px;margin:auto;border:4px solid #54b168}.bg-color[_ngcontent-%COMP%]{background:#e1eaf9}ion-card[_ngcontent-%COMP%]{background-color:initial!important;margin-top:40px;--ion-background-color:#0000!important;text-align:center}.container[_ngcontent-%COMP%]{width:100%;height:200px;background-color:#90f3f3;padding:0}.overylay[_ngcontent-%COMP%]{position:relative;text-align:center;top:60%}ion-item[_ngcontent-%COMP%]{--border-color:#d4d7db;--highlight-color-focused:#215ab7;--padding-start:0;--inner-padding-end:0;--highlight-color-invalid:#215ab7;--highlight-color-valid:#215ab7;--color-focused:#1248a0!important}ion-item[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{color:#74787e;font-size:13px}ion-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{padding-right:6px;font-size:18px}ion-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]:hover{color:#1248a0}ion-item[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#ff2c2c;font-size:15px}.sign-btn-wrap[_ngcontent-%COMP%]{text-align:center;padding-top:20px}.sign-btn-wrap[_ngcontent-%COMP%]   .sign-btn[_ngcontent-%COMP%]{--ion-primary-color:#215ab7;--background-activated:#e1eaf9;--background-focused:#e1eaf9;--background-hover:#647b9d;color:#f4f6fa;border-radius:25px;--background:#215ab7;background-color:#215ab7}.text-tag[_ngcontent-%COMP%]{margin-top:35px;text-align:center}.text-tag[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px;font-weight:400;color:#334862}.social-btns[_ngcontent-%COMP%]{margin-top:18px;text-align:center}.social-btns[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:30px;padding-left:2px!important}.ion-card-footer[_ngcontent-%COMP%]{width:100%;height:40px;align-items:center;justify-content:center;display:flex}.ion-card-footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#85888d;font-size:12px;font-weight:200}.ion-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:initial;font-size:14px;font-weight:600;padding-left:3px;color:#535558}.ion-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#969393}"]}),e})()}];let m=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[r.Bz.forChild(u)],r.Bz]}),e})(),h=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[i.ez,o.u5,a.Pc,m]]}),e})()}}]);